#!/bin/bash

MAX_B=12

#PREFERRED=11

CORR="0 20"

sleep 3
while true ; do
	for i in $( seq $MAX_B ) ; do
		for j in $PREFERRED $( awk 'BEGIN {srand(); print int('$MAX_B'*rand())+1}' ) ; do
			case $j in
				(1)  XY="960  370";;
				(2)  XY="1120 440";;
				
				(3)  XY="700  370";;
				(4)  XY="860  440";;
				(5)  XY="980  510";;
				(6)  XY="1120 580";;
				
				(7)  XY="560  440";;
				(8)  XY="700  510";;
				(9)  XY="840  580";;
				(10) XY="980  650";;
				
				(11) XY="420  510";;
				(12) XY="560  580";;
				(13) XY="700  650";;
				(14) XY="840  720";;
				
				(15) XY="420  650";;
				(16) XY="560  720";;
			esac
			XYC=$( echo $XY $CORR | awk '{print $1+$3, $2+$4}' )
			xdotool mousemove --sync $XYC click 1 # select building
			sleep 1
			xdotool click 1 # Upgrade
			sleep 1
			xdotool click 1 # speed up
			sleep 1
		done
		sleep 1
	done
	xdotool mousemove --sync 1276 335 click 1 # kill Kingdom Quest
	sleep 1
done
